gunter@S8 /home/source-6/6/github/glisze/xen-0-guix/t/53 [env]$ sudo xl create -c to_xen/0.cfg
Password:
Parsing config from to_xen/0.cfg
[    0.000000] Linux version 5.4.0-rc8S9+ (gunter@S8) (gcc version 7.4.0 (GCC)) #8 SMP Sun Nov 24 20:46:03 GMT 2019
[    0.000000] Command line: root=/dev/xvda1 rdinit=/gnu/store/si0g38pqnqaawpmwr008qc9rhqnzkalv-xen-0-busybox-2f57b5139/bin/sh
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai
[    0.000000] x86/fpu: x87 FPU will use FXSAVE
[    0.000000] ACPI in unprivileged domain disabled
[    0.000000] Released 0 page(s)
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] Xen: [mem 0x0000000000000000-0x000000000009ffff] usable
[    0.000000] Xen: [mem 0x00000000000a0000-0x00000000000fffff] reserved
[    0.000000] Xen: [mem 0x0000000000100000-0x000000003fffffff] usable
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] DMI not present or invalid.
[    0.000000] Hypervisor detected: Xen PV
[    0.198575] tsc: Fast TSC calibration failed
[    0.198593] tsc: Detected 998.190 MHz processor
[    0.198671] last_pfn = 0x40000 max_arch_pfn = 0x400000000
[    0.198676] Disabled
[    0.198682] x86/PAT: MTRRs disabled, skipping PAT initialization too.
[    0.198701] x86/PAT: Configuration [0-7]: WB  WT  UC- UC  WC  WP  UC  UC
[    0.383786] check: Scanning 1 areas for low memory corruption
[    0.769398] RAMDISK: [mem 0x03400000-0x07aaefff]
[    0.770487] NUMA turned off
[    0.770494] Faking a node at [mem 0x0000000000000000-0x000000003fffffff]
[    0.770510] NODE_DATA(0) allocated [mem 0x3fe22000-0x3fe25fff]
[    0.779965] Zone ranges:
[    0.779981]   DMA32    [mem 0x0000000000001000-0x000000003fffffff]
[    0.779989]   Normal   empty
[    0.779995]   Device   empty
[    0.779999] Movable zone start for each node
[    0.780004] Early memory node ranges
[    0.780010]   node   0: [mem 0x0000000000001000-0x000000000009ffff]
[    0.780017]   node   0: [mem 0x0000000000100000-0x000000003fffffff]
[    0.780030] Zeroed struct page in unavailable ranges: 97 pages
[    0.780036] Initmem setup node 0 [mem 0x0000000000001000-0x000000003fffffff]
[    0.799570] p2m virtual area at (____ptrval____), size is 40000000
[    2.112412] Remapped 0 page(s)
[    2.112649] SFI: Simple Firmware Interface v0.81 http://simplefirmware.org
[    2.113009] smpboot: Allowing 1 CPUs, 0 hotplug CPUs
[    2.113037] PM: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    2.113045] PM: Registered nosave memory: [mem 0x000a0000-0x000fffff]
[    2.113054] [mem 0x40000000-0xffffffff] available for PCI devices
[    2.113066] Booting paravirtualized kernel on Xen
[    2.113073] Xen version: 4.12.1 (preserve-AD)
[    2.113086] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    2.113108] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:1 nr_node_ids:1
[    2.114819] percpu: Embedded 53 pages/cpu s178392 r8192 d30504 u2097152
[    2.115025] Built 1 zonelists, mobility grouping on.  Total pages: 257930
[    2.115032] Policy zone: DMA32
[    2.115040] Kernel command line: root=/dev/xvda1 rdinit=/gnu/store/si0g38pqnqaawpmwr008qc9rhqnzkalv-xen-0-busybox-2f57b5139/bin/sh
[    2.115860] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    2.116278] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    2.116640] mem auto-init: stack:byref_all, heap alloc:off, heap free:off
[    2.136349] Memory: 920568K/1048188K available (18435K kernel code, 2124K rwdata, 6128K rodata, 2092K init, 1772K bss, 127620K reserved, 0K cma-reserved)
[    2.136381] random: get_random_u64 called from __kmem_cache_create+0x46/0x570 with crng_init=0
[    2.137028] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    2.138190] ftrace: allocating 54294 entries in 213 pages
[    2.211884] rcu: Hierarchical RCU implementation.
[    2.211897] rcu:     RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=1.
[    2.211904] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    2.211909] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1
[    2.229966] Using NULL legacy PIC
[    2.229983] NR_IRQS: 16640, nr_irqs: 32, preallocated irqs: 0
[    2.230201] xen:events: Using FIFO-based ABI
[    2.230478] Console: colour dummy device 80x25
[    2.230900] printk: console [tty0] enabled
[    2.232366] printk: console [hvc0] enabled
[    2.232524] clocksource: xen: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    2.233163] installing Xen timer for CPU 0
[    2.233634] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x1cc6d271c01, max_idle_ns: 881590423366 ns
[    2.233681] Calibrating delay loop (skipped), value calculated using timer frequency.. 1996.38 BogoMIPS (lpj=3992760)
[    2.233712] pid_max: default: 32768 minimum: 301
[    2.233963] LSM: Security Framework initializing
[    2.234015] Yama: becoming mindful.
[    2.234186] AppArmor: AppArmor initialized
[    2.234211] TOMOYO Linux initialized
[    2.234488] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes, linear)
[    2.234527] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes, linear)
[    2.234645] *** VALIDATE tmpfs ***
[    2.235381] *** VALIDATE proc ***
[    2.235751] *** VALIDATE cgroup1 ***
[    2.235771] *** VALIDATE cgroup2 ***
[    2.236931] Last level iTLB entries: 4KB 512, 2MB 8, 4MB 4
[    2.236974] Last level dTLB entries: 4KB 512, 2MB 8, 4MB 4, 1GB 0
[    2.237005] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    2.237030] Spectre V2 : Mitigation: Full AMD retpoline
[    2.237045] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    2.237066] Speculative Store Bypass: Vulnerable
[    2.410371] Freeing SMP alternatives memory: 36K
[    2.415673] VPMU disabled by hypervisor.
[    2.417160] Performance Events: PMU not available due to virtualization, using software events only.
[    2.417986] rcu: Hierarchical SRCU implementation.
[    2.421278] NMI watchdog: Perf NMI watchdog permanently disabled
[    2.422155] smp: Bringing up secondary CPUs ...
[    2.422192] smp: Brought up 1 node, 1 CPU
[    2.422207] smpboot: Max logical packages: 1
[    2.423448] devtmpfs: initialized
[    2.423695] x86/mm: Memory block size: 128MB
[    2.424972] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    2.425023] futex hash table entries: 256 (order: 2, 16384 bytes, linear)
[    2.425267] xor: measuring software checksum speed
[    2.461693]    prefetch64-sse:  2359.000 MB/sec
[    2.501690]    generic_sse:  2192.000 MB/sec
[    2.501718] xor: using function: prefetch64-sse (2359.000 MB/sec)
[    2.501745] pinctrl core: initialized pinctrl subsystem
[    2.502435]
[    2.502477] *************************************************************
[    2.502495] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    2.502511] **                                                         **
[    2.502528] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    2.502544] **                                                         **
[    2.502560] ** This means that this kernel is built to expose internal **
[    2.502576] ** IOMMU data structures, which may compromise security on **
[    2.502592] ** your system.                                            **
[    2.502608] **                                                         **
[    2.502623] ** If you see this message and you are not debugging the   **
[    2.502639] ** kernel, report this immediately to your vendor!         **
[    2.502655] **                                                         **
[    2.502671] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    2.502687] *************************************************************
[    2.522544] PM: RTC time: 165:165:165, date: 2065-165-165
[    2.523190] NET: Registered protocol family 16
[    2.523268] xen:grant_table: Grant tables using version 1 layout
[    2.523341] Grant table initialized
[    2.523570] audit: initializing netlink subsys (disabled)
[    2.524180] audit: type=2000 audit(1574633763.317:1): state=initialized audit_enabled=0 res=1
[    2.527756] PCI: setting up Xen PCI frontend stub
[    2.621691] raid6: sse2x4   gen()   566 MB/s
[    2.689732] raid6: sse2x4   xor()   472 MB/s
[    2.757701] raid6: sse2x2   gen()   453 MB/s
[    2.825720] raid6: sse2x2   xor()   846 MB/s
[    2.893731] raid6: sse2x1   gen()   846 MB/s
[    2.961697] raid6: sse2x1   xor()   668 MB/s
[    2.961736] raid6: using algorithm sse2x1 gen() 846 MB/s
[    2.961751] raid6: .... xor() 668 MB/s, rmw enabled
[    2.961768] raid6: using ssse3x2 recovery algorithm
[    2.962548] ACPI: Interpreter disabled.
[    2.962616] xen:balloon: Initialising balloon driver
[    2.970058] iommu: Default domain type: Passthrough
[    2.970262] vgaarb: loaded
[    2.971197] SCSI subsystem initialized
[    2.971633] usbcore: registered new interface driver usbfs
[    2.971687] usbcore: registered new interface driver hub
[    2.971742] usbcore: registered new device driver usb
[    2.971832] mc: Linux media interface: v0.10
[    2.971869] videodev: Linux video capture interface: v2.00
[    2.972128] EDAC MC: Ver: 3.0.0
[    2.974242] Advanced Linux Sound Architecture Driver Initialized.
[    2.974299] PCI: System does not support PCI
[    2.974762] NetLabel: Initializing
[    2.974780] NetLabel:  domain hash size = 128
[    2.974793] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    2.974875] NetLabel:  unlabeled traffic allowed by default
[    2.976596] clocksource: Switched to clocksource xen
[    3.060354] *** VALIDATE bpf ***
[    3.060870] VFS: Disk quotas dquot_6.6.0
[    3.060983] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    3.061085] *** VALIDATE ramfs ***
[    3.061108] hugetlbfs: disabling because there are no supported hugepage sizes
[    3.061534] AppArmor: AppArmor Filesystem Enabled
[    3.062142] pnp: PnP ACPI: disabled
[    3.069249] thermal_sys: Registered thermal governor 'fair_share'
[    3.069254] thermal_sys: Registered thermal governor 'bang_bang'
[    3.069293] thermal_sys: Registered thermal governor 'step_wise'
[    3.069310] thermal_sys: Registered thermal governor 'user_space'
[    3.069326] thermal_sys: Registered thermal governor 'power_allocator'
[    3.069751] NET: Registered protocol family 2
[    3.070245] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes, linear)
[    3.070294] TCP established hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    3.070377] TCP bind hash table entries: 8192 (order: 5, 131072 bytes, linear)
[    3.070495] TCP: Hash tables configured (established 8192 bind 8192)
[    3.070676] UDP hash table entries: 512 (order: 2, 16384 bytes, linear)
[    3.070722] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes, linear)
[    3.070938] NET: Registered protocol family 1
[    3.072245] PCI: CLS 0 bytes, default 64
[    3.072435] Trying to unpack rootfs image as initramfs...
[    3.169752] random: fast init done
[    3.355207] Freeing initrd memory: 72380K
[    3.355961] check: Scanning for low memory corruption every 60 seconds
[    3.357283] Initialise system trusted keyrings
[    3.357515] workingset: timestamp_bits=40 max_order=18 bucket_order=0
[    3.363762] zbud: loaded
[    3.366501] fuse: init (API version 7.31)
[    3.367056] *** VALIDATE fuse ***
[    3.367111] *** VALIDATE fuse ***
[    3.367465] 9p: Installing v9fs 9p2000 file system support
[    3.368244] Allocating IMA blacklist keyring.
[    3.382210] Key type asymmetric registered
[    3.382711] Asymmetric key parser 'x509' registered
[    3.382790] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    3.382985] io scheduler mq-deadline registered
[    3.383512] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4
[    3.386230] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.394416] Linux agpgart interface v0.103
[    3.394616] AMD-Vi: AMD IOMMUv2 driver by Joerg Roedel <jroedel@suse.de>
[    3.394640] AMD-Vi: AMD IOMMUv2 functionality not available on this system
[    3.394738] [drm] radeon kernel modesetting enabled.
[    3.406213] brd: module loaded
[    3.415422] loop: module loaded
[    3.416628] isci: Intel(R) C600 SAS Controller Driver - version 1.2.0
[    3.419130] Rounding down aligned max_sectors from 4294967295 to 4294967288
[    3.420041] db_root: cannot open: /etc/target
[    3.420314] libphy: Fixed MDIO Bus: probed
[    3.420518] tun: Universal TUN/TAP device driver, 1.6
[    3.420780] PPP generic driver version 2.4.2
[    3.421130] VFIO - User Level meta-driver version: 0.3
[    3.421505] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    3.421543] ehci-pci: EHCI PCI platform driver
[    3.421596] ehci-platform: EHCI generic platform driver
[    3.421637] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    3.421662] ohci-pci: OHCI PCI platform driver
[    3.421799] ohci-platform: OHCI generic platform driver
[    3.421840] uhci_hcd: USB Universal Host Controller Interface driver
[    3.422001] usbcore: registered new interface driver uas
[    3.422055] usbcore: registered new interface driver usb-storage
[    3.422138] i8042: PNP: No PS/2 controller found.
[    3.422155] i8042: Probing ports directly.
[    4.455188] i8042: No controller found
[    4.455302] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x1cc6d271c01, max_idle_ns: 881590423366 ns
[    4.456039] mousedev: PS/2 mouse device common for all mice
[    4.456470] input: PC Speaker as /devices/platform/pcspkr/input/input0
[    4.456807] i2c /dev entries driver
[    4.457044] usbcore: registered new interface driver dvb_usb_dib0700
[    4.457113] usbcore: registered new interface driver uvcvideo
[    4.457133] USB Video Class driver (1.1.1)
[    4.457341] device-mapper: uevent: version 1.0.3
[    4.457670] device-mapper: ioctl: 4.41.0-ioctl (2019-09-16) initialised: dm-devel@redhat.com
[    4.458136] ledtrig-cpu: registered to indicate activity on CPUs
[    4.458765] hidraw: raw HID events driver (C) Jiri Kosina
[    4.458956] usbcore: registered new interface driver usbhid
[    4.458974] usbhid: USB HID core driver
[    4.458987] asus_wmi: ASUS WMI generic driver loaded
[    4.459162] asus_wmi: ASUS Management GUID not found
[    4.460384] NET: Registered protocol family 10
[    4.461401] Segment Routing with IPv6
[    4.461497] NET: Registered protocol family 17
[    4.461623] 9pnet: Installing 9P2000 support
[    4.461665] Key type dns_resolver registered
[    4.462178] IPI shorthand broadcast: enabled
[    4.462236] sched_clock: Marking stable (4458293487, 3437574)->(4469695527, -7964466)
[    4.462929] registered taskstats version 1
[    4.462960] Loading compiled-in X.509 certificates
[    4.463052] zswap: loaded using pool lzo/zbud
[    4.464605] Btrfs loaded, crc32c=crc32c-generic
[    4.467248] Key type big_key registered
[    4.468083] Key type encrypted registered
[    4.468115] AppArmor: AppArmor sha1 policy hashing enabled
[    4.468157] ima: No TPM chip found, activating TPM-bypass!
[    4.468195] ima: Allocated hash algorithm: sha1
[    4.468236] ima: No architecture policies found
[    4.468283] evm: Initialising EVM extended attributes:
[    4.468299] evm: security.selinux
[    4.468311] evm: security.SMACK64
[    4.468322] evm: security.SMACK64EXEC
[    4.468333] evm: security.SMACK64TRANSMUTE
[    4.468345] evm: security.SMACK64MMAP
[    4.468356] evm: security.apparmor
[    4.468367] evm: security.ima
[    4.468377] evm: security.capability
[    4.468389] evm: HMAC attrs: 0x1
[    4.470227] xenbus_probe_frontend: Device with no driver: device/vbd/2048
[    4.470320] PM:   Magic number: 1:252:3141
[    4.470459] hctosys: unable to open rtc device (rtc0)
[    4.470805] cfg80211: Loading compiled-in X.509 certificates for regulatory database
[    4.473422] cfg80211: Loaded X.509 cert 'sforshee: 00b28ddf47aef9cea7'
[    4.473541] ALSA device list:
[    4.473583]   No soundcards found.
[    4.473985] platform regulatory.0: Direct firmware load for regulatory.db failed with error -2
[    4.474020] cfg80211: failed to load regulatory.db
[    4.483434] Freeing unused kernel image memory: 2092K
[    4.489930] Write protecting the kernel read-only data: 26624k
[    4.521088] Freeing unused kernel image memory: 2036K
[    4.521228] Freeing unused kernel image memory: 16K
[    4.521253] Run /gnu/store/si0g38pqnqaawpmwr008qc9rhqnzkalv-xen-0-busybox-2f57b5139/bin/sh as init process
/gnu/store/si0g38pqnqaawpmwr008qc9rhqnzkalv-xen-0-busybox-2f57b5139/bin/sh: can't access tty; job control turned off
/ #
/ # uname -a
Linux (none) 5.4.0-rc8S9+ #8 SMP Sun Nov 24 20:46:03 GMT 2019 x86_64 GNU/Linux
/ # ls
1       bin     etc     init    lib     root    sys
Fn      dev     gnu     init-0  proc    sbin
/ # ls /sbin -lh
total 4K
-rw-r--r--    1 1000     998          180 Jan  1  1970 init-sh
/ # cat /sbin/init-sh
# 1. words
mkdir -p /1 /etc /dev /proc /sys
# 2. areas
mount -t sysfs -o nosuid,noexec,nodev none /sys
mount -t proc  -o nosuid,noexec,nodev none /proc
mount -t devtmpfs none /dev
/ # sh sbin/init-sh
/ # lsmod
/ # mount
none on / type rootfs (rw)
none on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
none on /proc type proc (rw,nosuid,nodev,noexec,relatime)
none on /dev type devtmpfs (rw,relatime,size=460300k,nr_inodes=115075,mode=755)
/ # ls /dev
btrfs-control    ram15            tty34            ttyS14
console          ram2             tty35            ttyS15
cpu_dma_latency  ram3             tty36            ttyS16
ecryptfs         ram4             tty37            ttyS17
full             ram5             tty38            ttyS18
fuse             ram6             tty39            ttyS19
hvc0             ram7             tty4             ttyS2
hvc1             ram8             tty40            ttyS20
hvc2             ram9             tty41            ttyS21
hvc3             random           tty42            ttyS22
hvc4             rfkill           tty43            ttyS23
hvc5             snapshot         tty44            ttyS24
hvc6             snd              tty45            ttyS25
hvc7             tty              tty46            ttyS26
hwrng            tty0             tty47            ttyS27
input            tty1             tty48            ttyS28
kmsg             tty10            tty49            ttyS29
lightnvm         tty11            tty5             ttyS3
loop-control     tty12            tty50            ttyS30
loop0            tty13            tty51            ttyS31
loop1            tty14            tty52            ttyS4
loop2            tty15            tty53            ttyS5
loop3            tty16            tty54            ttyS6
loop4            tty17            tty55            ttyS7
loop5            tty18            tty56            ttyS8
loop6            tty19            tty57            ttyS9
loop7            tty2             tty58            ttyprintk
mapper           tty20            tty59            uinput
mem              tty21            tty6             urandom
net              tty22            tty60            vcs
null             tty23            tty61            vcs1
port             tty24            tty62            vcsa
ppp              tty25            tty63            vcsa1
psaux            tty26            tty7             vcsu
ptmx             tty27            tty8             vcsu1
ram0             tty28            tty9             vfio
ram1             tty29            ttyS0            vga_arbiter
ram10            tty3             ttyS1            xen
ram11            tty30            ttyS10           zero
ram12            tty31            ttyS11
ram13            tty32            ttyS12
ram14            tty33            ttyS13
/ # modprobe xen-blkfront
[   69.076702] Invalid max_queues (4), will use default max: 1.
[   69.149120] blkfront: xvda: flush diskcache: enabled; persistent grants: enabled; indirect descriptors: enabled;
[   69.159135]  xvda: xvda1 xvda2
/ # ls /dev/xv* -lh
brw-------    1 0        0         202,   0 Nov 24 22:17 /dev/xvda
brw-------    1 0        0         202,   1 Nov 24 22:17 /dev/xvda1
brw-------    1 0        0         202,   2 Nov 24 22:17 /dev/xvda2
/ # mount /dev/xvda1 /1
[   94.667679] EXT4-fs (xvda1): mounting ext2 file system using the ext4 subsystem
[   94.669884] EXT4-fs (xvda1): warning: mounting unchecked fs, running e2fsck is recommended
[   95.008811] EXT4-fs (xvda1): mounted filesystem without journal. Opts: (null)
[   95.008916] ext2 filesystem being mounted at /1 supports timestamps until 2038 (0x7fffffff)
/ # lsblk
/gnu/store/si0g38pqnqaawpmwr008qc9rhqnzkalv-xen-0-busybox-2f57b5139/bin/sh: lsblk: not found
/ # mount
none on / type rootfs (rw)
none on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
none on /proc type proc (rw,nosuid,nodev,noexec,relatime)
none on /dev type devtmpfs (rw,relatime,size=460300k,nr_inodes=115075,mode=755)
/dev/xvda1 on /1 type ext2 (rw,relatime)
/ # ls /1
bin         etc         home        lost+found  root        sys
dev         gnu         lib         proc        sbin
/ #
