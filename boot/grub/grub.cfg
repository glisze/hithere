# This file was generated from your Guix configuration.  Any changes
# will be lost upon reconfiguration.

# Set 'root' to the partition that contains /gnu/store.
search --label --set S10


if loadfont unicode; then
  set gfxmode=auto
  insmod all_video
  insmod gfxterm
fi

terminal_output gfxterm

insmod png
if background_image /gnu/store/gdrsgn5ymm4sy8b7ngqdzw241ypjx963-grub-image.png; then
  set color_normal=light-gray/black
  set color_highlight=yellow/black
else
  set menu_color_normal=cyan/blue
  set menu_color_highlight=white/blue
fi
# Localization configuration.
# search --file --set /gnu/store/l0dyml7ss21982lf41jdzaypg1nj99g4-grub-locales/en@quot.mo
set locale_dir=/gnu/store/l0dyml7ss21982lf41jdzaypg1nj99g4-grub-locales
set lang=en_GB
insmod keylayouts
keymap /gnu/store/3p5d6p105ymbgylfs9nr0z6vdgvfip0v-grub-keymap.gb

set default=0
set timeout=3
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V-Dom0 V5.17-Rc7" {
  search --label --set S10
  linux /gnu/store/x1ig61ca6vfp6pzbbd4jlx5jn28r77ni-linux-for-ak3v-dom0-v5.17-rc7/bzImage --root=S10 --system=/gnu/store/f432cbwsra9gpym7rfnb3piqlbvy11in-system --load=/gnu/store/f432cbwsra9gpym7rfnb3piqlbvy11in-system/boot modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/5kvrbb9znj93q70gvp20a1c0qg1wpd9g-raw-initrd/initrd.cpio.gz
}
menuentry "GNU Guix: S10: linux-for-ak3v@5.15.0-rc7 (t/78)" {
  search --file --set /@/0@LINUX@
  linux /@/0@LINUX@ --root=@ROOT@ --system=@SYSTEM@ --load=@BOOT@ iommu_intel=on vfio.ids=8086:095a,10ec:8168 quiet
  initrd /@/0@INITRD@
}

menuentry "Next: Xen and Ak3v" {
  multiboot2 /gnu/store/lrvn4m5xml51ffsjw97m4qn4gk8gs6fp-xen-0-boot-4.16.0/boot/xen.gz iommu=0 dom0-max_vcpus=4
  module2 /gnu/store/x1ig61ca6vfp6pzbbd4jlx5jn28r77ni-linux-for-ak3v-dom0-v5.17-rc7/bzImage --root=S10 --system=/gnu/store/f432cbwsra9gpym7rfnb3piqlbvy11in-system --load=/gnu/store/f432cbwsra9gpym7rfnb3piqlbvy11in-system/boot modprobe.blacklist=usbmouse,usbkbd i915.modeset=1 quiet
  module2 /gnu/store/5kvrbb9znj93q70gvp20a1c0qg1wpd9g-raw-initrd/initrd.cpio.gz
}
menuentry "GNU Guix: S10: linux-for-ak3v@5.15.0-rc7 (rdinit,t/78)" {
  search --file --set /@/0@LINUX@
  linux /@/0@LINUX@ rdint=@RDINIT@ --root=@ROOT@ --system=@SYSTEM@ --load=@BOOT@ iommu_intel=on vfio.ids=8086:095a,10ec:8168 quiet
  initrd /@/0@INITRD@
}
menuentry "The Other,still to be confirmed" {
  
  linux Linux root=/dev/sda2 console=ttyS13
  initrd boot/initrd.img
}
menuentry "(operating-system-full-name or so)" {
  
  linux (operating-system-kernel-name) root=10.128.192.51:/srv/S2 quiet
  initrd boot/nothere.img
}

submenu "GNU system, old configurations..." {
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V-Dom0 V5.17-Rc6 (#72, 2022-03-03 23:50)" {
  search --label --set S10
  linux /gnu/store/4rcmhl2d5r4814s52fcdzgskj69yaizk-linux-for-ak3v-dom0-v5.17-rc6/bzImage --root=S10 --system=/var/guix/profiles/system-72-link --load=/var/guix/profiles/system-72-link/boot modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/js930nsy9q868rj9wzh2k877b32gnaji-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V-Dom0 V5.17-Rc6 (#71, 2022-03-03 03:14)" {
  search --label --set S10
  linux /gnu/store/4rcmhl2d5r4814s52fcdzgskj69yaizk-linux-for-ak3v-dom0-v5.17-rc6/bzImage --root=S10 --system=/var/guix/profiles/system-71-link --load=/var/guix/profiles/system-71-link/boot modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/js930nsy9q868rj9wzh2k877b32gnaji-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V-Dom0 V5.17-Rc6 (#70, 2022-03-01 21:44)" {
  search --label --set S10
  linux /gnu/store/4rcmhl2d5r4814s52fcdzgskj69yaizk-linux-for-ak3v-dom0-v5.17-rc6/bzImage --root=S10 --system=/var/guix/profiles/system-70-link --load=/var/guix/profiles/system-70-link/boot modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/js930nsy9q868rj9wzh2k877b32gnaji-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V V5.17-Rc6 (#69, 2022-03-01 01:29)" {
  search --label --set S10
  linux /gnu/store/qxp4j6rx3yxwk07015kcaay17islz536-linux-for-ak3v-v5.17-rc6/bzImage --root=S10 --system=/var/guix/profiles/system-69-link --load=/var/guix/profiles/system-69-link/boot iommu_intel=on vfio.ids=8086:095a,10ec:8168 modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/dhginmlgl8851sq0dsf2a7viv63p5vpr-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V V5.17-Rc4 (#68, 2022-02-19 19:36)" {
  search --label --set S10
  linux /gnu/store/d1x36ga5q1yiwlnrgpalyh2mnr6z44yd-linux-for-ak3v-v5.17-rc4/bzImage --root=S10 --system=/var/guix/profiles/system-68-link --load=/var/guix/profiles/system-68-link/boot iommu_intel=on vfio.ids=8086:095a,10ec:8168 modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/n93jdy8ij8k7c9afxs1bbpi5rk199bqr-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V V5.17-Rc4 (#67, 2022-02-19 04:47)" {
  search --label --set S10
  linux /gnu/store/d1x36ga5q1yiwlnrgpalyh2mnr6z44yd-linux-for-ak3v-v5.17-rc4/bzImage --root=S10 --system=/var/guix/profiles/system-67-link --load=/var/guix/profiles/system-67-link/boot iommu_intel=on vfio.ids=8086:095a,10ec:8168 modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/a9dssym3ydp5l5b6xwjni6pkn9maij4x-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V V5.17-Rc4 (#66, 2022-02-18 02:35)" {
  search --label --set S10
  linux /gnu/store/d1x36ga5q1yiwlnrgpalyh2mnr6z44yd-linux-for-ak3v-v5.17-rc4/bzImage --root=S10 --system=/var/guix/profiles/system-66-link --load=/var/guix/profiles/system-66-link/boot iommu_intel=on vfio.ids=8086:095a,10ec:8168 modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/n93jdy8ij8k7c9afxs1bbpi5rk199bqr-raw-initrd/initrd.cpio.gz
}
menuentry "Gnu Guix: S10 Ak3V: With Linux-For-Ak3V V5.17-Rc4 (#65, 2022-02-15 02:13)" {
  search --label --set S10
  linux /gnu/store/d1x36ga5q1yiwlnrgpalyh2mnr6z44yd-linux-for-ak3v-v5.17-rc4/bzImage --root=S10 --system=/var/guix/profiles/system-65-link --load=/var/guix/profiles/system-65-link/boot iommu_intel=on vfio.ids=8086:095a,10ec:8168 modprobe.blacklist=usbmouse,usbkbd quiet
  initrd /gnu/store/n93jdy8ij8k7c9afxs1bbpi5rk199bqr-raw-initrd/initrd.cpio.gz
}
}

if [ "${grub_platform}" == efi ]; then
  menuentry "Firmware setup" {
    fwsetup
  }
fi
